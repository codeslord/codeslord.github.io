---
layout: default
---
{% assign posts_count = paginator.posts | size %}

<div class="home">
  {% if posts_count > 0 %}
    <div class="posts">
      {% for post in paginator.posts %}
        <!-- Extract first image URL - improved approach -->
        {% assign image_url = '' %}
        {% assign img_tag_start = post.content | split: '<img' | first %}
        {% unless img_tag_start == post.content %}
          {% assign img_tag = post.content | split: '<img' %}
          {% for img_part in img_tag %}
            {% if forloop.index > 1 %}
              {% assign src_part = img_part | split: 'src="' %}
              {% if src_part.size > 1 %}
                {% assign image_url = src_part[1] | split: '"' | first %}
                {% break %}
              {% endif %}
            {% endif %}
          {% endfor %}
        {% endunless %}
        
        <!-- Fallback: try different image extraction methods -->
        {% if image_url == '' or image_url == blank %}
          {% assign image_url = post.content | split: '<img src="' | last | split: '"' | first %}
          {% unless post.content contains '<img src="' %}
            {% assign image_url = '' %}
          {% endunless %}
        {% endif %}
        
        <!-- Assign category-based icon and color -->
        {% assign category_icon = "üìù" %}
        {% assign category_color = "#6366f1" %}
        {% if post.categories contains "ai" or post.categories contains "ml" or post.categories contains "artificial-intelligence" %}
          {% assign category_icon = "ü§ñ" %}
          {% assign category_color = "#8b5cf6" %}
        {% elsif post.categories contains "web" or post.categories contains "frontend" or post.categories contains "javascript" %}
          {% assign category_icon = "üåê" %}
          {% assign category_color = "#06b6d4" %}
        {% elsif post.categories contains "python" or post.categories contains "backend" %}
          {% assign category_icon = "üêç" %}
          {% assign category_color = "#f59e0b" %}
        {% elsif post.categories contains "tutorial" or post.categories contains "guide" %}
          {% assign category_icon = "üìö" %}
          {% assign category_color = "#10b981" %}
        {% elsif post.categories contains "tools" or post.categories contains "productivity" %}
          {% assign category_icon = "üõ†Ô∏è" %}
          {% assign category_color = "#f97316" %}
        {% elsif post.categories contains "research" or post.categories contains "paper" %}
          {% assign category_icon = "üî¨" %}
          {% assign category_color = "#ec4899" %}
        {% elsif post.categories contains "3d" or post.categories contains "graphics" %}
          {% assign category_icon = "üé®" %}
          {% assign category_color = "#84cc16" %}
        {% endif %}

        <article class="post-card">
          <a href="{{ post.url | relative_url }}" class="post-link-wrapper">
            <!-- Image Section -->
            <!-- Debug: image_url = "{{ image_url }}" -->
            {% if image_url != '' and image_url != blank %}
            <div class="post-image-section" data-image-url="{{ image_url }}">
              <div class="post-image" style="background-image: url('{{ image_url }}');"></div>
              <div class="post-category-badge">
                <span class="category-icon" style="background-color: {{ category_color }};">{{ category_icon }}</span>
              </div>
            </div>
            {% else %}
            <div class="post-image-section no-image">
              <div class="post-placeholder-image">
                <span class="placeholder-icon" style="color: {{ category_color }};">{{ category_icon }}</span>
              </div>
              <div class="post-category-badge">
                <span class="category-icon" style="background-color: {{ category_color }};">{{ category_icon }}</span>
              </div>
            </div>
            {% endif %}
            
            <!-- Content Section -->
            <div class="post-content-section">
              <div class="post-date-badge">
                {% if site.date_format %}
                  {{ post.date | date: site.date_format }}
                {% else %}
                  {{ post.date | date: "%b %-d, %Y" }}
                {% endif %}
              </div>
              
              <h3 class="post-title">{{ post.title }}</h3>
              
              <div class="post-summary">
                {% if post.summary %}
                  {{ post.summary | strip_html | truncatewords: 25 }}
                {% else %}
                  {{ post.excerpt | strip_html | truncatewords: 25 }}
                {% endif %}
              </div>
              
              <div class="post-footer-info">
                <span class="read-more">
                  <svg class="read-more-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                  Read More
                </span>
              </div>
            </div>
          </a>
        </article>
      {% endfor %}
    </div>

    {% include pagination.html %}
  {% else %}
    <h1 class='center'>{{ site.text.index.coming_soon }}</h1>
  {% endif %}
</div>
